rake aborted!
ActiveRecord::NoDatabaseError: FATAL:  database "ap_production" does not exist
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:661:in `rescue in connect'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:651:in `connect'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:242:in `initialize'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:44:in `new'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:44:in `postgresql_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:438:in `new_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:448:in `checkout_new_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:422:in `acquire_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:349:in `block in checkout'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:348:in `checkout'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:263:in `block in connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:262:in `connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:567:in `retrieve_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_handling.rb:113:in `retrieve_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_handling.rb:87:in `connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/attributes.rb:93:in `columns'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/model_schema.rb:260:in `column_names'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:226:in `aggregate_column'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:252:in `execute_simple_calculation'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:221:in `perform_calculation'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:127:in `calculate'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:42:in `count'
/Users/dvorkin212/Documents/ap/lib/tasks/session_tasks.rake:6:in `block (2 levels) in <top (required)>'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/bin/ruby_executable_hooks:15:in `eval'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/bin/ruby_executable_hooks:15:in `<main>'
PG::ConnectionBad: FATAL:  database "ap_production" does not exist
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:651:in `initialize'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:651:in `new'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:651:in `connect'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:242:in `initialize'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:44:in `new'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:44:in `postgresql_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:438:in `new_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:448:in `checkout_new_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:422:in `acquire_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:349:in `block in checkout'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:348:in `checkout'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:263:in `block in connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:262:in `connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:567:in `retrieve_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_handling.rb:113:in `retrieve_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_handling.rb:87:in `connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/attributes.rb:93:in `columns'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/model_schema.rb:260:in `column_names'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:226:in `aggregate_column'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:252:in `execute_simple_calculation'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:221:in `perform_calculation'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:127:in `calculate'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:42:in `count'
/Users/dvorkin212/Documents/ap/lib/tasks/session_tasks.rake:6:in `block (2 levels) in <top (required)>'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/bin/ruby_executable_hooks:15:in `eval'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/bin/ruby_executable_hooks:15:in `<main>'
Tasks: TOP => session_tasks:delete_empty_orders
(See full trace by running task with --trace)
rake aborted!
ActiveRecord::NoDatabaseError: FATAL:  database "ap_production" does not exist
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:661:in `rescue in connect'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:651:in `connect'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:242:in `initialize'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:44:in `new'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:44:in `postgresql_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:438:in `new_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:448:in `checkout_new_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:422:in `acquire_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:349:in `block in checkout'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:348:in `checkout'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:263:in `block in connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:262:in `connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:567:in `retrieve_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_handling.rb:113:in `retrieve_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_handling.rb:87:in `connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/attributes.rb:93:in `columns'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/model_schema.rb:260:in `column_names'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:226:in `aggregate_column'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:252:in `execute_simple_calculation'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:221:in `perform_calculation'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:127:in `calculate'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:42:in `count'
/Users/dvorkin212/Documents/ap/lib/tasks/session_tasks.rake:6:in `block (2 levels) in <top (required)>'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/bin/ruby_executable_hooks:15:in `eval'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/bin/ruby_executable_hooks:15:in `<main>'
PG::ConnectionBad: FATAL:  database "ap_production" does not exist
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:651:in `initialize'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:651:in `new'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:651:in `connect'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:242:in `initialize'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:44:in `new'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:44:in `postgresql_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:438:in `new_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:448:in `checkout_new_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:422:in `acquire_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:349:in `block in checkout'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:348:in `checkout'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:263:in `block in connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:262:in `connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:567:in `retrieve_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_handling.rb:113:in `retrieve_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_handling.rb:87:in `connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/attributes.rb:93:in `columns'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/model_schema.rb:260:in `column_names'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:226:in `aggregate_column'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:252:in `execute_simple_calculation'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:221:in `perform_calculation'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:127:in `calculate'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:42:in `count'
/Users/dvorkin212/Documents/ap/lib/tasks/session_tasks.rake:6:in `block (2 levels) in <top (required)>'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/bin/ruby_executable_hooks:15:in `eval'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/bin/ruby_executable_hooks:15:in `<main>'
Tasks: TOP => session_tasks:delete_empty_orders
(See full trace by running task with --trace)
rake aborted!
ActiveRecord::NoDatabaseError: FATAL:  database "ap_production" does not exist
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:661:in `rescue in connect'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:651:in `connect'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:242:in `initialize'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:44:in `new'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:44:in `postgresql_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:438:in `new_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:448:in `checkout_new_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:422:in `acquire_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:349:in `block in checkout'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:348:in `checkout'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:263:in `block in connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:262:in `connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:567:in `retrieve_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_handling.rb:113:in `retrieve_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_handling.rb:87:in `connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/attributes.rb:93:in `columns'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/model_schema.rb:260:in `column_names'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:226:in `aggregate_column'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:252:in `execute_simple_calculation'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:221:in `perform_calculation'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:127:in `calculate'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:42:in `count'
/Users/dvorkin212/Documents/ap/lib/tasks/session_tasks.rake:6:in `block (2 levels) in <top (required)>'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/bin/ruby_executable_hooks:15:in `eval'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/bin/ruby_executable_hooks:15:in `<main>'
PG::ConnectionBad: FATAL:  database "ap_production" does not exist
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:651:in `initialize'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:651:in `new'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:651:in `connect'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:242:in `initialize'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:44:in `new'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:44:in `postgresql_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:438:in `new_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:448:in `checkout_new_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:422:in `acquire_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:349:in `block in checkout'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:348:in `checkout'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:263:in `block in connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:262:in `connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:567:in `retrieve_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_handling.rb:113:in `retrieve_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_handling.rb:87:in `connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/attributes.rb:93:in `columns'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/model_schema.rb:260:in `column_names'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:226:in `aggregate_column'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:252:in `execute_simple_calculation'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:221:in `perform_calculation'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:127:in `calculate'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:42:in `count'
/Users/dvorkin212/Documents/ap/lib/tasks/session_tasks.rake:6:in `block (2 levels) in <top (required)>'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/bin/ruby_executable_hooks:15:in `eval'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/bin/ruby_executable_hooks:15:in `<main>'
Tasks: TOP => session_tasks:delete_empty_orders
(See full trace by running task with --trace)
rake aborted!
ActiveRecord::NoDatabaseError: FATAL:  database "ap_production" does not exist
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:661:in `rescue in connect'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:651:in `connect'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:242:in `initialize'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:44:in `new'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:44:in `postgresql_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:438:in `new_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:448:in `checkout_new_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:422:in `acquire_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:349:in `block in checkout'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:348:in `checkout'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:263:in `block in connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:262:in `connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:567:in `retrieve_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_handling.rb:113:in `retrieve_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_handling.rb:87:in `connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/attributes.rb:93:in `columns'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/model_schema.rb:260:in `column_names'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:226:in `aggregate_column'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:252:in `execute_simple_calculation'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:221:in `perform_calculation'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:127:in `calculate'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:42:in `count'
/Users/dvorkin212/Documents/ap/lib/tasks/session_tasks.rake:6:in `block (2 levels) in <top (required)>'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/bin/ruby_executable_hooks:15:in `eval'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/bin/ruby_executable_hooks:15:in `<main>'
PG::ConnectionBad: FATAL:  database "ap_production" does not exist
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:651:in `initialize'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:651:in `new'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:651:in `connect'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:242:in `initialize'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:44:in `new'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:44:in `postgresql_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:438:in `new_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:448:in `checkout_new_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:422:in `acquire_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:349:in `block in checkout'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:348:in `checkout'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:263:in `block in connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:262:in `connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:567:in `retrieve_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_handling.rb:113:in `retrieve_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_handling.rb:87:in `connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/attributes.rb:93:in `columns'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/model_schema.rb:260:in `column_names'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:226:in `aggregate_column'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:252:in `execute_simple_calculation'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:221:in `perform_calculation'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:127:in `calculate'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:42:in `count'
/Users/dvorkin212/Documents/ap/lib/tasks/session_tasks.rake:6:in `block (2 levels) in <top (required)>'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/bin/ruby_executable_hooks:15:in `eval'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/bin/ruby_executable_hooks:15:in `<main>'
Tasks: TOP => session_tasks:delete_empty_orders
(See full trace by running task with --trace)
rake aborted!
ActiveRecord::NoDatabaseError: FATAL:  database "ap_production" does not exist
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:661:in `rescue in connect'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:651:in `connect'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:242:in `initialize'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:44:in `new'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:44:in `postgresql_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:438:in `new_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:448:in `checkout_new_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:422:in `acquire_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:349:in `block in checkout'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:348:in `checkout'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:263:in `block in connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:262:in `connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:567:in `retrieve_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_handling.rb:113:in `retrieve_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_handling.rb:87:in `connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/attributes.rb:93:in `columns'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/model_schema.rb:260:in `column_names'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:226:in `aggregate_column'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:252:in `execute_simple_calculation'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:221:in `perform_calculation'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:127:in `calculate'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:42:in `count'
/Users/dvorkin212/Documents/ap/lib/tasks/session_tasks.rake:6:in `block (2 levels) in <top (required)>'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/bin/ruby_executable_hooks:15:in `eval'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/bin/ruby_executable_hooks:15:in `<main>'
PG::ConnectionBad: FATAL:  database "ap_production" does not exist
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:651:in `initialize'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:651:in `new'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:651:in `connect'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:242:in `initialize'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:44:in `new'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:44:in `postgresql_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:438:in `new_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:448:in `checkout_new_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:422:in `acquire_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:349:in `block in checkout'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:348:in `checkout'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:263:in `block in connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:262:in `connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:567:in `retrieve_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_handling.rb:113:in `retrieve_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_handling.rb:87:in `connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/attributes.rb:93:in `columns'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/model_schema.rb:260:in `column_names'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:226:in `aggregate_column'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:252:in `execute_simple_calculation'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:221:in `perform_calculation'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:127:in `calculate'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:42:in `count'
/Users/dvorkin212/Documents/ap/lib/tasks/session_tasks.rake:6:in `block (2 levels) in <top (required)>'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/bin/ruby_executable_hooks:15:in `eval'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/bin/ruby_executable_hooks:15:in `<main>'
Tasks: TOP => session_tasks:delete_empty_orders
(See full trace by running task with --trace)
rake aborted!
ActiveRecord::NoDatabaseError: FATAL:  database "ap_production" does not exist
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:661:in `rescue in connect'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:651:in `connect'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:242:in `initialize'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:44:in `new'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:44:in `postgresql_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:438:in `new_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:448:in `checkout_new_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:422:in `acquire_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:349:in `block in checkout'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:348:in `checkout'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:263:in `block in connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:262:in `connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:567:in `retrieve_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_handling.rb:113:in `retrieve_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_handling.rb:87:in `connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/attributes.rb:93:in `columns'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/model_schema.rb:260:in `column_names'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:226:in `aggregate_column'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:252:in `execute_simple_calculation'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:221:in `perform_calculation'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:127:in `calculate'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:42:in `count'
/Users/dvorkin212/Documents/ap/lib/tasks/session_tasks.rake:6:in `block (2 levels) in <top (required)>'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/bin/ruby_executable_hooks:15:in `eval'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/bin/ruby_executable_hooks:15:in `<main>'
PG::ConnectionBad: FATAL:  database "ap_production" does not exist
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:651:in `initialize'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:651:in `new'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:651:in `connect'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:242:in `initialize'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:44:in `new'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:44:in `postgresql_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:438:in `new_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:448:in `checkout_new_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:422:in `acquire_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:349:in `block in checkout'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:348:in `checkout'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:263:in `block in connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:262:in `connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:567:in `retrieve_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_handling.rb:113:in `retrieve_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_handling.rb:87:in `connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/attributes.rb:93:in `columns'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/model_schema.rb:260:in `column_names'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:226:in `aggregate_column'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:252:in `execute_simple_calculation'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:221:in `perform_calculation'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:127:in `calculate'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:42:in `count'
/Users/dvorkin212/Documents/ap/lib/tasks/session_tasks.rake:6:in `block (2 levels) in <top (required)>'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/bin/ruby_executable_hooks:15:in `eval'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/bin/ruby_executable_hooks:15:in `<main>'
Tasks: TOP => session_tasks:delete_empty_orders
(See full trace by running task with --trace)
rake aborted!
ActiveRecord::NoDatabaseError: FATAL:  database "ap_production" does not exist
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:661:in `rescue in connect'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:651:in `connect'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:242:in `initialize'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:44:in `new'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:44:in `postgresql_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:438:in `new_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:448:in `checkout_new_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:422:in `acquire_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:349:in `block in checkout'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:348:in `checkout'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:263:in `block in connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:262:in `connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:567:in `retrieve_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_handling.rb:113:in `retrieve_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_handling.rb:87:in `connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/attributes.rb:93:in `columns'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/model_schema.rb:260:in `column_names'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:226:in `aggregate_column'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:252:in `execute_simple_calculation'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:221:in `perform_calculation'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:127:in `calculate'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:42:in `count'
/Users/dvorkin212/Documents/ap/lib/tasks/session_tasks.rake:6:in `block (2 levels) in <top (required)>'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/bin/ruby_executable_hooks:15:in `eval'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/bin/ruby_executable_hooks:15:in `<main>'
PG::ConnectionBad: FATAL:  database "ap_production" does not exist
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:651:in `initialize'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:651:in `new'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:651:in `connect'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:242:in `initialize'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:44:in `new'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:44:in `postgresql_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:438:in `new_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:448:in `checkout_new_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:422:in `acquire_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:349:in `block in checkout'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:348:in `checkout'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:263:in `block in connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:262:in `connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:567:in `retrieve_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_handling.rb:113:in `retrieve_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_handling.rb:87:in `connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/attributes.rb:93:in `columns'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/model_schema.rb:260:in `column_names'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:226:in `aggregate_column'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:252:in `execute_simple_calculation'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:221:in `perform_calculation'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:127:in `calculate'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:42:in `count'
/Users/dvorkin212/Documents/ap/lib/tasks/session_tasks.rake:6:in `block (2 levels) in <top (required)>'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/bin/ruby_executable_hooks:15:in `eval'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/bin/ruby_executable_hooks:15:in `<main>'
Tasks: TOP => session_tasks:delete_empty_orders
(See full trace by running task with --trace)
rake aborted!
ActiveRecord::NoDatabaseError: FATAL:  database "ap_production" does not exist
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:661:in `rescue in connect'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:651:in `connect'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:242:in `initialize'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:44:in `new'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:44:in `postgresql_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:438:in `new_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:448:in `checkout_new_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:422:in `acquire_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:349:in `block in checkout'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:348:in `checkout'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:263:in `block in connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:262:in `connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:567:in `retrieve_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_handling.rb:113:in `retrieve_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_handling.rb:87:in `connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/attributes.rb:93:in `columns'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/model_schema.rb:260:in `column_names'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:226:in `aggregate_column'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:252:in `execute_simple_calculation'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:221:in `perform_calculation'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:127:in `calculate'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:42:in `count'
/Users/dvorkin212/Documents/ap/lib/tasks/session_tasks.rake:6:in `block (2 levels) in <top (required)>'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/bin/ruby_executable_hooks:15:in `eval'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/bin/ruby_executable_hooks:15:in `<main>'
PG::ConnectionBad: FATAL:  database "ap_production" does not exist
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:651:in `initialize'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:651:in `new'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:651:in `connect'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:242:in `initialize'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:44:in `new'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:44:in `postgresql_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:438:in `new_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:448:in `checkout_new_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:422:in `acquire_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:349:in `block in checkout'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:348:in `checkout'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:263:in `block in connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:262:in `connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:567:in `retrieve_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_handling.rb:113:in `retrieve_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_handling.rb:87:in `connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/attributes.rb:93:in `columns'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/model_schema.rb:260:in `column_names'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:226:in `aggregate_column'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:252:in `execute_simple_calculation'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:221:in `perform_calculation'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:127:in `calculate'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:42:in `count'
/Users/dvorkin212/Documents/ap/lib/tasks/session_tasks.rake:6:in `block (2 levels) in <top (required)>'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/bin/ruby_executable_hooks:15:in `eval'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/bin/ruby_executable_hooks:15:in `<main>'
Tasks: TOP => session_tasks:delete_empty_orders
(See full trace by running task with --trace)
rake aborted!
ActiveRecord::NoDatabaseError: FATAL:  database "ap_production" does not exist
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:661:in `rescue in connect'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:651:in `connect'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:242:in `initialize'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:44:in `new'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:44:in `postgresql_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:438:in `new_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:448:in `checkout_new_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:422:in `acquire_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:349:in `block in checkout'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:348:in `checkout'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:263:in `block in connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:262:in `connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:567:in `retrieve_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_handling.rb:113:in `retrieve_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_handling.rb:87:in `connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/attributes.rb:93:in `columns'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/model_schema.rb:260:in `column_names'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:226:in `aggregate_column'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:252:in `execute_simple_calculation'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:221:in `perform_calculation'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:127:in `calculate'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:42:in `count'
/Users/dvorkin212/Documents/ap/lib/tasks/session_tasks.rake:6:in `block (2 levels) in <top (required)>'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/bin/ruby_executable_hooks:15:in `eval'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/bin/ruby_executable_hooks:15:in `<main>'
PG::ConnectionBad: FATAL:  database "ap_production" does not exist
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:651:in `initialize'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:651:in `new'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:651:in `connect'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:242:in `initialize'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:44:in `new'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:44:in `postgresql_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:438:in `new_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:448:in `checkout_new_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:422:in `acquire_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:349:in `block in checkout'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:348:in `checkout'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:263:in `block in connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:262:in `connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:567:in `retrieve_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_handling.rb:113:in `retrieve_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_handling.rb:87:in `connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/attributes.rb:93:in `columns'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/model_schema.rb:260:in `column_names'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:226:in `aggregate_column'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:252:in `execute_simple_calculation'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:221:in `perform_calculation'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:127:in `calculate'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:42:in `count'
/Users/dvorkin212/Documents/ap/lib/tasks/session_tasks.rake:6:in `block (2 levels) in <top (required)>'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/bin/ruby_executable_hooks:15:in `eval'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/bin/ruby_executable_hooks:15:in `<main>'
Tasks: TOP => session_tasks:delete_empty_orders
(See full trace by running task with --trace)
rake aborted!
ActiveRecord::NoDatabaseError: FATAL:  database "ap_production" does not exist
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:661:in `rescue in connect'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:651:in `connect'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:242:in `initialize'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:44:in `new'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:44:in `postgresql_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:438:in `new_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:448:in `checkout_new_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:422:in `acquire_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:349:in `block in checkout'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:348:in `checkout'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:263:in `block in connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:262:in `connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:567:in `retrieve_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_handling.rb:113:in `retrieve_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_handling.rb:87:in `connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/attributes.rb:93:in `columns'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/model_schema.rb:260:in `column_names'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:226:in `aggregate_column'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:252:in `execute_simple_calculation'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:221:in `perform_calculation'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:127:in `calculate'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:42:in `count'
/Users/dvorkin212/Documents/ap/lib/tasks/session_tasks.rake:6:in `block (2 levels) in <top (required)>'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/bin/ruby_executable_hooks:15:in `eval'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/bin/ruby_executable_hooks:15:in `<main>'
PG::ConnectionBad: FATAL:  database "ap_production" does not exist
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:651:in `initialize'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:651:in `new'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:651:in `connect'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:242:in `initialize'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:44:in `new'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:44:in `postgresql_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:438:in `new_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:448:in `checkout_new_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:422:in `acquire_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:349:in `block in checkout'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:348:in `checkout'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:263:in `block in connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:262:in `connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:567:in `retrieve_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_handling.rb:113:in `retrieve_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_handling.rb:87:in `connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/attributes.rb:93:in `columns'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/model_schema.rb:260:in `column_names'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:226:in `aggregate_column'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:252:in `execute_simple_calculation'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:221:in `perform_calculation'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:127:in `calculate'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:42:in `count'
/Users/dvorkin212/Documents/ap/lib/tasks/session_tasks.rake:6:in `block (2 levels) in <top (required)>'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/bin/ruby_executable_hooks:15:in `eval'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/bin/ruby_executable_hooks:15:in `<main>'
Tasks: TOP => session_tasks:delete_empty_orders
(See full trace by running task with --trace)
rake aborted!
ActiveRecord::NoDatabaseError: FATAL:  database "ap_production" does not exist
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:661:in `rescue in connect'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:651:in `connect'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:242:in `initialize'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:44:in `new'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:44:in `postgresql_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:438:in `new_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:448:in `checkout_new_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:422:in `acquire_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:349:in `block in checkout'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:348:in `checkout'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:263:in `block in connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:262:in `connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:567:in `retrieve_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_handling.rb:113:in `retrieve_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_handling.rb:87:in `connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/attributes.rb:93:in `columns'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/model_schema.rb:260:in `column_names'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:226:in `aggregate_column'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:252:in `execute_simple_calculation'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:221:in `perform_calculation'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:127:in `calculate'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:42:in `count'
/Users/dvorkin212/Documents/ap/lib/tasks/session_tasks.rake:6:in `block (2 levels) in <top (required)>'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/bin/ruby_executable_hooks:15:in `eval'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/bin/ruby_executable_hooks:15:in `<main>'
PG::ConnectionBad: FATAL:  database "ap_production" does not exist
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:651:in `initialize'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:651:in `new'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:651:in `connect'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:242:in `initialize'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:44:in `new'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:44:in `postgresql_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:438:in `new_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:448:in `checkout_new_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:422:in `acquire_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:349:in `block in checkout'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:348:in `checkout'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:263:in `block in connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:262:in `connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:567:in `retrieve_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_handling.rb:113:in `retrieve_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_handling.rb:87:in `connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/attributes.rb:93:in `columns'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/model_schema.rb:260:in `column_names'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:226:in `aggregate_column'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:252:in `execute_simple_calculation'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:221:in `perform_calculation'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:127:in `calculate'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:42:in `count'
/Users/dvorkin212/Documents/ap/lib/tasks/session_tasks.rake:6:in `block (2 levels) in <top (required)>'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/bin/ruby_executable_hooks:15:in `eval'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/bin/ruby_executable_hooks:15:in `<main>'
Tasks: TOP => session_tasks:delete_empty_orders
(See full trace by running task with --trace)
rake aborted!
ActiveRecord::NoDatabaseError: FATAL:  database "ap_production" does not exist
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:661:in `rescue in connect'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:651:in `connect'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:242:in `initialize'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:44:in `new'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:44:in `postgresql_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:438:in `new_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:448:in `checkout_new_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:422:in `acquire_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:349:in `block in checkout'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:348:in `checkout'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:263:in `block in connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:262:in `connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:567:in `retrieve_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_handling.rb:113:in `retrieve_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_handling.rb:87:in `connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/attributes.rb:93:in `columns'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/model_schema.rb:260:in `column_names'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:226:in `aggregate_column'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:252:in `execute_simple_calculation'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:221:in `perform_calculation'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:127:in `calculate'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:42:in `count'
/Users/dvorkin212/Documents/ap/lib/tasks/session_tasks.rake:6:in `block (2 levels) in <top (required)>'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/bin/ruby_executable_hooks:15:in `eval'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/bin/ruby_executable_hooks:15:in `<main>'
PG::ConnectionBad: FATAL:  database "ap_production" does not exist
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:651:in `initialize'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:651:in `new'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:651:in `connect'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:242:in `initialize'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:44:in `new'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:44:in `postgresql_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:438:in `new_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:448:in `checkout_new_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:422:in `acquire_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:349:in `block in checkout'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:348:in `checkout'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:263:in `block in connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:262:in `connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:567:in `retrieve_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_handling.rb:113:in `retrieve_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_handling.rb:87:in `connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/attributes.rb:93:in `columns'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/model_schema.rb:260:in `column_names'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:226:in `aggregate_column'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:252:in `execute_simple_calculation'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:221:in `perform_calculation'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:127:in `calculate'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:42:in `count'
/Users/dvorkin212/Documents/ap/lib/tasks/session_tasks.rake:6:in `block (2 levels) in <top (required)>'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/bin/ruby_executable_hooks:15:in `eval'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/bin/ruby_executable_hooks:15:in `<main>'
Tasks: TOP => session_tasks:delete_empty_orders
(See full trace by running task with --trace)
rake aborted!
ActiveRecord::NoDatabaseError: FATAL:  database "ap_production" does not exist
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:661:in `rescue in connect'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:651:in `connect'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:242:in `initialize'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:44:in `new'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:44:in `postgresql_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:438:in `new_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:448:in `checkout_new_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:422:in `acquire_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:349:in `block in checkout'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:348:in `checkout'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:263:in `block in connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:262:in `connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:567:in `retrieve_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_handling.rb:113:in `retrieve_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_handling.rb:87:in `connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/attributes.rb:93:in `columns'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/model_schema.rb:260:in `column_names'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:226:in `aggregate_column'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:252:in `execute_simple_calculation'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:221:in `perform_calculation'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:127:in `calculate'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:42:in `count'
/Users/dvorkin212/Documents/ap/lib/tasks/session_tasks.rake:6:in `block (2 levels) in <top (required)>'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/bin/ruby_executable_hooks:15:in `eval'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/bin/ruby_executable_hooks:15:in `<main>'
PG::ConnectionBad: FATAL:  database "ap_production" does not exist
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:651:in `initialize'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:651:in `new'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:651:in `connect'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:242:in `initialize'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:44:in `new'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:44:in `postgresql_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:438:in `new_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:448:in `checkout_new_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:422:in `acquire_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:349:in `block in checkout'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:348:in `checkout'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:263:in `block in connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:262:in `connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:567:in `retrieve_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_handling.rb:113:in `retrieve_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_handling.rb:87:in `connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/attributes.rb:93:in `columns'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/model_schema.rb:260:in `column_names'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:226:in `aggregate_column'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:252:in `execute_simple_calculation'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:221:in `perform_calculation'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:127:in `calculate'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:42:in `count'
/Users/dvorkin212/Documents/ap/lib/tasks/session_tasks.rake:6:in `block (2 levels) in <top (required)>'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/bin/ruby_executable_hooks:15:in `eval'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/bin/ruby_executable_hooks:15:in `<main>'
Tasks: TOP => session_tasks:delete_empty_orders
(See full trace by running task with --trace)
rake aborted!
ActiveRecord::NoDatabaseError: FATAL:  database "ap_production" does not exist
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:661:in `rescue in connect'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:651:in `connect'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:242:in `initialize'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:44:in `new'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:44:in `postgresql_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:438:in `new_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:448:in `checkout_new_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:422:in `acquire_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:349:in `block in checkout'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:348:in `checkout'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:263:in `block in connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:262:in `connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:567:in `retrieve_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_handling.rb:113:in `retrieve_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_handling.rb:87:in `connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/attributes.rb:93:in `columns'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/model_schema.rb:260:in `column_names'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:226:in `aggregate_column'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:252:in `execute_simple_calculation'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:221:in `perform_calculation'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:127:in `calculate'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:42:in `count'
/Users/dvorkin212/Documents/ap/lib/tasks/session_tasks.rake:6:in `block (2 levels) in <top (required)>'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/bin/ruby_executable_hooks:15:in `eval'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/bin/ruby_executable_hooks:15:in `<main>'
PG::ConnectionBad: FATAL:  database "ap_production" does not exist
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:651:in `initialize'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:651:in `new'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:651:in `connect'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:242:in `initialize'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:44:in `new'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:44:in `postgresql_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:438:in `new_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:448:in `checkout_new_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:422:in `acquire_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:349:in `block in checkout'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:348:in `checkout'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:263:in `block in connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:262:in `connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:567:in `retrieve_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_handling.rb:113:in `retrieve_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_handling.rb:87:in `connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/attributes.rb:93:in `columns'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/model_schema.rb:260:in `column_names'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:226:in `aggregate_column'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:252:in `execute_simple_calculation'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:221:in `perform_calculation'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:127:in `calculate'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:42:in `count'
/Users/dvorkin212/Documents/ap/lib/tasks/session_tasks.rake:6:in `block (2 levels) in <top (required)>'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/bin/ruby_executable_hooks:15:in `eval'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/bin/ruby_executable_hooks:15:in `<main>'
Tasks: TOP => session_tasks:delete_empty_orders
(See full trace by running task with --trace)
rake aborted!
ActiveRecord::NoDatabaseError: FATAL:  database "ap_production" does not exist
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:661:in `rescue in connect'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:651:in `connect'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:242:in `initialize'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:44:in `new'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:44:in `postgresql_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:438:in `new_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:448:in `checkout_new_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:422:in `acquire_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:349:in `block in checkout'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:348:in `checkout'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:263:in `block in connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:262:in `connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:567:in `retrieve_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_handling.rb:113:in `retrieve_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_handling.rb:87:in `connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/attributes.rb:93:in `columns'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/model_schema.rb:260:in `column_names'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:226:in `aggregate_column'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:252:in `execute_simple_calculation'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:221:in `perform_calculation'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:127:in `calculate'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:42:in `count'
/Users/dvorkin212/Documents/ap/lib/tasks/session_tasks.rake:6:in `block (2 levels) in <top (required)>'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/bin/ruby_executable_hooks:15:in `eval'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/bin/ruby_executable_hooks:15:in `<main>'
PG::ConnectionBad: FATAL:  database "ap_production" does not exist
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:651:in `initialize'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:651:in `new'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:651:in `connect'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:242:in `initialize'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:44:in `new'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:44:in `postgresql_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:438:in `new_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:448:in `checkout_new_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:422:in `acquire_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:349:in `block in checkout'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:348:in `checkout'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:263:in `block in connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:262:in `connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:567:in `retrieve_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_handling.rb:113:in `retrieve_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_handling.rb:87:in `connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/attributes.rb:93:in `columns'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/model_schema.rb:260:in `column_names'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:226:in `aggregate_column'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:252:in `execute_simple_calculation'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:221:in `perform_calculation'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:127:in `calculate'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:42:in `count'
/Users/dvorkin212/Documents/ap/lib/tasks/session_tasks.rake:6:in `block (2 levels) in <top (required)>'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/bin/ruby_executable_hooks:15:in `eval'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/bin/ruby_executable_hooks:15:in `<main>'
Tasks: TOP => session_tasks:delete_empty_orders
(See full trace by running task with --trace)
rake aborted!
ActiveRecord::NoDatabaseError: FATAL:  database "ap_production" does not exist
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:661:in `rescue in connect'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:651:in `connect'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:242:in `initialize'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:44:in `new'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:44:in `postgresql_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:438:in `new_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:448:in `checkout_new_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:422:in `acquire_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:349:in `block in checkout'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:348:in `checkout'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:263:in `block in connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:262:in `connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:567:in `retrieve_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_handling.rb:113:in `retrieve_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_handling.rb:87:in `connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/attributes.rb:93:in `columns'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/model_schema.rb:260:in `column_names'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:226:in `aggregate_column'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:252:in `execute_simple_calculation'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:221:in `perform_calculation'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:127:in `calculate'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:42:in `count'
/Users/dvorkin212/Documents/ap/lib/tasks/session_tasks.rake:6:in `block (2 levels) in <top (required)>'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/bin/ruby_executable_hooks:15:in `eval'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/bin/ruby_executable_hooks:15:in `<main>'
PG::ConnectionBad: FATAL:  database "ap_production" does not exist
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:651:in `initialize'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:651:in `new'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:651:in `connect'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:242:in `initialize'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:44:in `new'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:44:in `postgresql_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:438:in `new_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:448:in `checkout_new_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:422:in `acquire_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:349:in `block in checkout'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:348:in `checkout'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:263:in `block in connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:262:in `connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:567:in `retrieve_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_handling.rb:113:in `retrieve_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_handling.rb:87:in `connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/attributes.rb:93:in `columns'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/model_schema.rb:260:in `column_names'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:226:in `aggregate_column'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:252:in `execute_simple_calculation'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:221:in `perform_calculation'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:127:in `calculate'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:42:in `count'
/Users/dvorkin212/Documents/ap/lib/tasks/session_tasks.rake:6:in `block (2 levels) in <top (required)>'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/bin/ruby_executable_hooks:15:in `eval'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/bin/ruby_executable_hooks:15:in `<main>'
Tasks: TOP => session_tasks:delete_empty_orders
(See full trace by running task with --trace)
rake aborted!
ActiveRecord::NoDatabaseError: FATAL:  database "ap_production" does not exist
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:661:in `rescue in connect'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:651:in `connect'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:242:in `initialize'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:44:in `new'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:44:in `postgresql_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:438:in `new_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:448:in `checkout_new_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:422:in `acquire_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:349:in `block in checkout'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:348:in `checkout'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:263:in `block in connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:262:in `connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:567:in `retrieve_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_handling.rb:113:in `retrieve_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_handling.rb:87:in `connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/attributes.rb:93:in `columns'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/model_schema.rb:260:in `column_names'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:226:in `aggregate_column'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:252:in `execute_simple_calculation'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:221:in `perform_calculation'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:127:in `calculate'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:42:in `count'
/Users/dvorkin212/Documents/ap/lib/tasks/session_tasks.rake:6:in `block (2 levels) in <top (required)>'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/bin/ruby_executable_hooks:15:in `eval'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/bin/ruby_executable_hooks:15:in `<main>'
PG::ConnectionBad: FATAL:  database "ap_production" does not exist
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:651:in `initialize'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:651:in `new'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:651:in `connect'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:242:in `initialize'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:44:in `new'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:44:in `postgresql_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:438:in `new_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:448:in `checkout_new_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:422:in `acquire_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:349:in `block in checkout'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:348:in `checkout'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:263:in `block in connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:262:in `connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:567:in `retrieve_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_handling.rb:113:in `retrieve_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_handling.rb:87:in `connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/attributes.rb:93:in `columns'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/model_schema.rb:260:in `column_names'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:226:in `aggregate_column'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:252:in `execute_simple_calculation'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:221:in `perform_calculation'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:127:in `calculate'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:42:in `count'
/Users/dvorkin212/Documents/ap/lib/tasks/session_tasks.rake:6:in `block (2 levels) in <top (required)>'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/bin/ruby_executable_hooks:15:in `eval'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/bin/ruby_executable_hooks:15:in `<main>'
Tasks: TOP => session_tasks:delete_empty_orders
(See full trace by running task with --trace)
rake aborted!
ActiveRecord::NoDatabaseError: FATAL:  database "ap_production" does not exist
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:661:in `rescue in connect'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:651:in `connect'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:242:in `initialize'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:44:in `new'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:44:in `postgresql_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:438:in `new_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:448:in `checkout_new_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:422:in `acquire_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:349:in `block in checkout'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:348:in `checkout'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:263:in `block in connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:262:in `connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:567:in `retrieve_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_handling.rb:113:in `retrieve_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_handling.rb:87:in `connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/attributes.rb:93:in `columns'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/model_schema.rb:260:in `column_names'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:226:in `aggregate_column'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:252:in `execute_simple_calculation'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:221:in `perform_calculation'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:127:in `calculate'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:42:in `count'
/Users/dvorkin212/Documents/ap/lib/tasks/session_tasks.rake:6:in `block (2 levels) in <top (required)>'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/bin/ruby_executable_hooks:15:in `eval'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/bin/ruby_executable_hooks:15:in `<main>'
PG::ConnectionBad: FATAL:  database "ap_production" does not exist
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:651:in `initialize'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:651:in `new'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:651:in `connect'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:242:in `initialize'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:44:in `new'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:44:in `postgresql_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:438:in `new_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:448:in `checkout_new_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:422:in `acquire_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:349:in `block in checkout'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:348:in `checkout'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:263:in `block in connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:262:in `connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:567:in `retrieve_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_handling.rb:113:in `retrieve_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_handling.rb:87:in `connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/attributes.rb:93:in `columns'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/model_schema.rb:260:in `column_names'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:226:in `aggregate_column'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:252:in `execute_simple_calculation'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:221:in `perform_calculation'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:127:in `calculate'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:42:in `count'
/Users/dvorkin212/Documents/ap/lib/tasks/session_tasks.rake:6:in `block (2 levels) in <top (required)>'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/bin/ruby_executable_hooks:15:in `eval'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/bin/ruby_executable_hooks:15:in `<main>'
Tasks: TOP => session_tasks:delete_empty_orders
(See full trace by running task with --trace)
rake aborted!
ActiveRecord::NoDatabaseError: FATAL:  database "ap_production" does not exist
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:661:in `rescue in connect'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:651:in `connect'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:242:in `initialize'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:44:in `new'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:44:in `postgresql_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:438:in `new_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:448:in `checkout_new_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:422:in `acquire_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:349:in `block in checkout'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:348:in `checkout'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:263:in `block in connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:262:in `connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:567:in `retrieve_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_handling.rb:113:in `retrieve_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_handling.rb:87:in `connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/attributes.rb:93:in `columns'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/model_schema.rb:260:in `column_names'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:226:in `aggregate_column'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:252:in `execute_simple_calculation'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:221:in `perform_calculation'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:127:in `calculate'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:42:in `count'
/Users/dvorkin212/Documents/ap/lib/tasks/session_tasks.rake:6:in `block (2 levels) in <top (required)>'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/bin/ruby_executable_hooks:15:in `eval'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/bin/ruby_executable_hooks:15:in `<main>'
PG::ConnectionBad: FATAL:  database "ap_production" does not exist
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:651:in `initialize'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:651:in `new'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:651:in `connect'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:242:in `initialize'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:44:in `new'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:44:in `postgresql_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:438:in `new_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:448:in `checkout_new_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:422:in `acquire_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:349:in `block in checkout'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:348:in `checkout'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:263:in `block in connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:262:in `connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:567:in `retrieve_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_handling.rb:113:in `retrieve_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_handling.rb:87:in `connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/attributes.rb:93:in `columns'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/model_schema.rb:260:in `column_names'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:226:in `aggregate_column'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:252:in `execute_simple_calculation'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:221:in `perform_calculation'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:127:in `calculate'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:42:in `count'
/Users/dvorkin212/Documents/ap/lib/tasks/session_tasks.rake:6:in `block (2 levels) in <top (required)>'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/bin/ruby_executable_hooks:15:in `eval'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/bin/ruby_executable_hooks:15:in `<main>'
Tasks: TOP => session_tasks:delete_empty_orders
(See full trace by running task with --trace)
rake aborted!
ActiveRecord::NoDatabaseError: FATAL:  database "ap_production" does not exist
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:661:in `rescue in connect'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:651:in `connect'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:242:in `initialize'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:44:in `new'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:44:in `postgresql_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:438:in `new_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:448:in `checkout_new_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:422:in `acquire_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:349:in `block in checkout'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:348:in `checkout'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:263:in `block in connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:262:in `connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:567:in `retrieve_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_handling.rb:113:in `retrieve_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_handling.rb:87:in `connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/attributes.rb:93:in `columns'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/model_schema.rb:260:in `column_names'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:226:in `aggregate_column'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:252:in `execute_simple_calculation'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:221:in `perform_calculation'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:127:in `calculate'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:42:in `count'
/Users/dvorkin212/Documents/ap/lib/tasks/session_tasks.rake:6:in `block (2 levels) in <top (required)>'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/bin/ruby_executable_hooks:15:in `eval'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/bin/ruby_executable_hooks:15:in `<main>'
PG::ConnectionBad: FATAL:  database "ap_production" does not exist
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:651:in `initialize'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:651:in `new'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:651:in `connect'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:242:in `initialize'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:44:in `new'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:44:in `postgresql_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:438:in `new_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:448:in `checkout_new_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:422:in `acquire_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:349:in `block in checkout'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:348:in `checkout'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:263:in `block in connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:262:in `connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:567:in `retrieve_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_handling.rb:113:in `retrieve_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_handling.rb:87:in `connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/attributes.rb:93:in `columns'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/model_schema.rb:260:in `column_names'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:226:in `aggregate_column'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:252:in `execute_simple_calculation'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:221:in `perform_calculation'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:127:in `calculate'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:42:in `count'
/Users/dvorkin212/Documents/ap/lib/tasks/session_tasks.rake:6:in `block (2 levels) in <top (required)>'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/bin/ruby_executable_hooks:15:in `eval'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/bin/ruby_executable_hooks:15:in `<main>'
Tasks: TOP => session_tasks:delete_empty_orders
(See full trace by running task with --trace)
rake aborted!
ActiveRecord::NoDatabaseError: FATAL:  database "ap_production" does not exist
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:661:in `rescue in connect'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:651:in `connect'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:242:in `initialize'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:44:in `new'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:44:in `postgresql_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:438:in `new_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:448:in `checkout_new_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:422:in `acquire_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:349:in `block in checkout'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:348:in `checkout'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:263:in `block in connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:262:in `connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:567:in `retrieve_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_handling.rb:113:in `retrieve_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_handling.rb:87:in `connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/attributes.rb:93:in `columns'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/model_schema.rb:260:in `column_names'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:226:in `aggregate_column'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:252:in `execute_simple_calculation'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:221:in `perform_calculation'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:127:in `calculate'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:42:in `count'
/Users/dvorkin212/Documents/ap/lib/tasks/session_tasks.rake:6:in `block (2 levels) in <top (required)>'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/bin/ruby_executable_hooks:15:in `eval'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/bin/ruby_executable_hooks:15:in `<main>'
PG::ConnectionBad: FATAL:  database "ap_production" does not exist
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:651:in `initialize'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:651:in `new'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:651:in `connect'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:242:in `initialize'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:44:in `new'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:44:in `postgresql_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:438:in `new_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:448:in `checkout_new_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:422:in `acquire_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:349:in `block in checkout'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:348:in `checkout'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:263:in `block in connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:262:in `connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:567:in `retrieve_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_handling.rb:113:in `retrieve_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_handling.rb:87:in `connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/attributes.rb:93:in `columns'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/model_schema.rb:260:in `column_names'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:226:in `aggregate_column'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:252:in `execute_simple_calculation'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:221:in `perform_calculation'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:127:in `calculate'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:42:in `count'
/Users/dvorkin212/Documents/ap/lib/tasks/session_tasks.rake:6:in `block (2 levels) in <top (required)>'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/bin/ruby_executable_hooks:15:in `eval'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/bin/ruby_executable_hooks:15:in `<main>'
Tasks: TOP => session_tasks:delete_empty_orders
(See full trace by running task with --trace)
rake aborted!
ActiveRecord::NoDatabaseError: FATAL:  database "ap_production" does not exist
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:661:in `rescue in connect'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:651:in `connect'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:242:in `initialize'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:44:in `new'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:44:in `postgresql_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:438:in `new_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:448:in `checkout_new_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:422:in `acquire_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:349:in `block in checkout'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:348:in `checkout'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:263:in `block in connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:262:in `connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:567:in `retrieve_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_handling.rb:113:in `retrieve_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_handling.rb:87:in `connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/attributes.rb:93:in `columns'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/model_schema.rb:260:in `column_names'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:226:in `aggregate_column'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:252:in `execute_simple_calculation'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:221:in `perform_calculation'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:127:in `calculate'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:42:in `count'
/Users/dvorkin212/Documents/ap/lib/tasks/session_tasks.rake:6:in `block (2 levels) in <top (required)>'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/bin/ruby_executable_hooks:15:in `eval'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/bin/ruby_executable_hooks:15:in `<main>'
PG::ConnectionBad: FATAL:  database "ap_production" does not exist
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:651:in `initialize'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:651:in `new'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:651:in `connect'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:242:in `initialize'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:44:in `new'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:44:in `postgresql_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:438:in `new_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:448:in `checkout_new_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:422:in `acquire_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:349:in `block in checkout'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:348:in `checkout'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:263:in `block in connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:262:in `connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:567:in `retrieve_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_handling.rb:113:in `retrieve_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_handling.rb:87:in `connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/attributes.rb:93:in `columns'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/model_schema.rb:260:in `column_names'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:226:in `aggregate_column'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:252:in `execute_simple_calculation'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:221:in `perform_calculation'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:127:in `calculate'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:42:in `count'
/Users/dvorkin212/Documents/ap/lib/tasks/session_tasks.rake:6:in `block (2 levels) in <top (required)>'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/bin/ruby_executable_hooks:15:in `eval'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/bin/ruby_executable_hooks:15:in `<main>'
Tasks: TOP => session_tasks:delete_empty_orders
(See full trace by running task with --trace)
rake aborted!
ActiveRecord::NoDatabaseError: FATAL:  database "ap_production" does not exist
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:661:in `rescue in connect'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:651:in `connect'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:242:in `initialize'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:44:in `new'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:44:in `postgresql_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:438:in `new_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:448:in `checkout_new_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:422:in `acquire_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:349:in `block in checkout'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:348:in `checkout'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:263:in `block in connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:262:in `connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:567:in `retrieve_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_handling.rb:113:in `retrieve_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_handling.rb:87:in `connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/attributes.rb:93:in `columns'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/model_schema.rb:260:in `column_names'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:226:in `aggregate_column'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:252:in `execute_simple_calculation'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:221:in `perform_calculation'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:127:in `calculate'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:42:in `count'
/Users/dvorkin212/Documents/ap/lib/tasks/session_tasks.rake:6:in `block (2 levels) in <top (required)>'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/bin/ruby_executable_hooks:15:in `eval'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/bin/ruby_executable_hooks:15:in `<main>'
PG::ConnectionBad: FATAL:  database "ap_production" does not exist
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:651:in `initialize'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:651:in `new'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:651:in `connect'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:242:in `initialize'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:44:in `new'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:44:in `postgresql_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:438:in `new_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:448:in `checkout_new_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:422:in `acquire_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:349:in `block in checkout'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:348:in `checkout'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:263:in `block in connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:262:in `connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:567:in `retrieve_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_handling.rb:113:in `retrieve_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_handling.rb:87:in `connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/attributes.rb:93:in `columns'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/model_schema.rb:260:in `column_names'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:226:in `aggregate_column'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:252:in `execute_simple_calculation'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:221:in `perform_calculation'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:127:in `calculate'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:42:in `count'
/Users/dvorkin212/Documents/ap/lib/tasks/session_tasks.rake:6:in `block (2 levels) in <top (required)>'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/bin/ruby_executable_hooks:15:in `eval'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/bin/ruby_executable_hooks:15:in `<main>'
Tasks: TOP => session_tasks:delete_empty_orders
(See full trace by running task with --trace)
rake aborted!
ActiveRecord::NoDatabaseError: FATAL:  database "ap_production" does not exist
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:661:in `rescue in connect'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:651:in `connect'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:242:in `initialize'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:44:in `new'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:44:in `postgresql_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:438:in `new_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:448:in `checkout_new_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:422:in `acquire_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:349:in `block in checkout'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:348:in `checkout'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:263:in `block in connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:262:in `connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:567:in `retrieve_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_handling.rb:113:in `retrieve_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_handling.rb:87:in `connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/attributes.rb:93:in `columns'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/model_schema.rb:260:in `column_names'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:226:in `aggregate_column'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:252:in `execute_simple_calculation'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:221:in `perform_calculation'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:127:in `calculate'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:42:in `count'
/Users/dvorkin212/Documents/ap/lib/tasks/session_tasks.rake:6:in `block (2 levels) in <top (required)>'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/bin/ruby_executable_hooks:15:in `eval'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/bin/ruby_executable_hooks:15:in `<main>'
PG::ConnectionBad: FATAL:  database "ap_production" does not exist
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:651:in `initialize'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:651:in `new'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:651:in `connect'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:242:in `initialize'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:44:in `new'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:44:in `postgresql_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:438:in `new_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:448:in `checkout_new_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:422:in `acquire_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:349:in `block in checkout'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:348:in `checkout'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:263:in `block in connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:262:in `connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:567:in `retrieve_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_handling.rb:113:in `retrieve_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_handling.rb:87:in `connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/attributes.rb:93:in `columns'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/model_schema.rb:260:in `column_names'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:226:in `aggregate_column'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:252:in `execute_simple_calculation'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:221:in `perform_calculation'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:127:in `calculate'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:42:in `count'
/Users/dvorkin212/Documents/ap/lib/tasks/session_tasks.rake:6:in `block (2 levels) in <top (required)>'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/bin/ruby_executable_hooks:15:in `eval'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/bin/ruby_executable_hooks:15:in `<main>'
Tasks: TOP => session_tasks:delete_empty_orders
(See full trace by running task with --trace)
rake aborted!
ActiveRecord::NoDatabaseError: FATAL:  database "ap_production" does not exist
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:661:in `rescue in connect'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:651:in `connect'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:242:in `initialize'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:44:in `new'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:44:in `postgresql_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:438:in `new_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:448:in `checkout_new_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:422:in `acquire_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:349:in `block in checkout'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:348:in `checkout'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:263:in `block in connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:262:in `connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:567:in `retrieve_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_handling.rb:113:in `retrieve_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_handling.rb:87:in `connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/attributes.rb:93:in `columns'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/model_schema.rb:260:in `column_names'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:226:in `aggregate_column'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:252:in `execute_simple_calculation'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:221:in `perform_calculation'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:127:in `calculate'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:42:in `count'
/Users/dvorkin212/Documents/ap/lib/tasks/session_tasks.rake:6:in `block (2 levels) in <top (required)>'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/bin/ruby_executable_hooks:15:in `eval'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/bin/ruby_executable_hooks:15:in `<main>'
PG::ConnectionBad: FATAL:  database "ap_production" does not exist
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:651:in `initialize'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:651:in `new'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:651:in `connect'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:242:in `initialize'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:44:in `new'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:44:in `postgresql_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:438:in `new_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:448:in `checkout_new_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:422:in `acquire_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:349:in `block in checkout'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:348:in `checkout'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:263:in `block in connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:262:in `connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:567:in `retrieve_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_handling.rb:113:in `retrieve_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_handling.rb:87:in `connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/attributes.rb:93:in `columns'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/model_schema.rb:260:in `column_names'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:226:in `aggregate_column'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:252:in `execute_simple_calculation'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:221:in `perform_calculation'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:127:in `calculate'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:42:in `count'
/Users/dvorkin212/Documents/ap/lib/tasks/session_tasks.rake:6:in `block (2 levels) in <top (required)>'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/bin/ruby_executable_hooks:15:in `eval'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/bin/ruby_executable_hooks:15:in `<main>'
Tasks: TOP => session_tasks:delete_empty_orders
(See full trace by running task with --trace)
rake aborted!
ActiveRecord::NoDatabaseError: FATAL:  database "ap_production" does not exist
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:661:in `rescue in connect'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:651:in `connect'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:242:in `initialize'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:44:in `new'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:44:in `postgresql_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:438:in `new_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:448:in `checkout_new_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:422:in `acquire_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:349:in `block in checkout'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:348:in `checkout'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:263:in `block in connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:262:in `connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:567:in `retrieve_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_handling.rb:113:in `retrieve_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_handling.rb:87:in `connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/attributes.rb:93:in `columns'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/model_schema.rb:260:in `column_names'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:226:in `aggregate_column'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:252:in `execute_simple_calculation'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:221:in `perform_calculation'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:127:in `calculate'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:42:in `count'
/Users/dvorkin212/Documents/ap/lib/tasks/session_tasks.rake:6:in `block (2 levels) in <top (required)>'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/bin/ruby_executable_hooks:15:in `eval'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/bin/ruby_executable_hooks:15:in `<main>'
PG::ConnectionBad: FATAL:  database "ap_production" does not exist
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:651:in `initialize'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:651:in `new'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:651:in `connect'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:242:in `initialize'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:44:in `new'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/postgresql_adapter.rb:44:in `postgresql_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:438:in `new_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:448:in `checkout_new_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:422:in `acquire_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:349:in `block in checkout'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:348:in `checkout'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:263:in `block in connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:262:in `connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:567:in `retrieve_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_handling.rb:113:in `retrieve_connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/connection_handling.rb:87:in `connection'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/attributes.rb:93:in `columns'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/model_schema.rb:260:in `column_names'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:226:in `aggregate_column'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:252:in `execute_simple_calculation'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:221:in `perform_calculation'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:127:in `calculate'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/gems/activerecord-4.2.1/lib/active_record/relation/calculations.rb:42:in `count'
/Users/dvorkin212/Documents/ap/lib/tasks/session_tasks.rake:6:in `block (2 levels) in <top (required)>'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/bin/ruby_executable_hooks:15:in `eval'
/Users/dvorkin212/.rvm/gems/ruby-2.2.1/bin/ruby_executable_hooks:15:in `<main>'
Tasks: TOP => session_tasks:delete_empty_orders
(See full trace by running task with --trace)
